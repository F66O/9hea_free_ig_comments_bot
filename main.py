import base64


text = b'CmZyb20gbGliLmxvIGltcG9ydCBsb19hY2MKZnJvbSBsaWIuZ2lkIGltcG9ydCBnZXRfaWQKZnJvbSBsaWIuYWRkIGltcG9ydCBhZGRjCmZyb20gZGlycy5sZyBpbXBvcnQgYm5yCmltcG9ydCB0aHJlYWRpbmcKaW1wb3J0IHN0cmluZwppbXBvcnQgcmFuZG9tCmltcG9ydCB0aW1lCmltcG9ydCBvcwpmcm9tIGNvbG9yYW1hIGltcG9ydCBGb3JlIGFzIGZyCgoKY2xhc3MgQ29tbWVudGVyKCk6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5jb29raWVzID0gW10KICAgICAgICBzZWxmLnN0ciA9IHN0cmluZy5hc2NpaV91cHBlcmNhc2UKICAgICAgICBzZWxmLm9zID0gb3Muc3lzdGVtKCdjbHMnIGlmIG9zLm5hbWUgPT0gJ250JyBlbHNlICdjbGVhcicpCiAgICAgICAgc2VsZi5zcyA9IHByaW50KGZyLkxJR0hUR1JFRU5fRVgrYm5yKQogICAgICAgIHNlbGYuZG9uZSA9IDAKICAgICAgICBzZWxmLmVycm9yID0gMAoKICAgIGRlZiBsb2dpbihzZWxmKToKICAgICAgICBmb3IgYWNjcyBpbiBvcGVuKCdhY2NvdW50cy50eHQnLCAncicpLnJlYWQoKS5zcGxpdGxpbmVzKCk6CiAgICAgICAgICAgIHVzZXJuYW1lID0gc3RyKGFjY3MpLnNwbGl0KCc6JylbMF0KICAgICAgICAgICAgcGFzc3dvcmQgPSBzdHIoYWNjcykuc3BsaXQoJzonKVsxXQogICAgICAgICAgICBxcSA9IGxvX2FjYyh1c2VybmFtZSwgcGFzc3dvcmQpCiAgICAgICAgICAgIGlmIHFxICE9IE5vbmU6CiAgICAgICAgICAgICAgICBzZWxmLmNvb2tpZXMuYXBwZW5kKHFxKQogICAgICAgIGlmIGxlbihzZWxmLmNvb2tpZXMpID4gMDoKICAgICAgICAgICAgcGFzcwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KGZyLlJFRCsiQWNjb3VudHMgTm90IFdvcmtpbmciKQogICAgICAgICAgICBpbnB1dCgnJykKICAgICAgICAgICAgZXhpdCgpCiAgICAgICAgbG4gPSBsZW4oc2VsZi5jb29raWVzKQogICAgICAgIHByaW50KGZyLkxJR0hUQ1lBTl9FWCtmIkxvZ2dlZCBpbiB3aXRoIHtsbn0gYWNjb3VudHMiKQogICAgICAgIHNlbGYuZ2QoKQoKICAgIGRlZiBnZChzZWxmKToKICAgICAgICB1cmwgPSBzdHIoZnIuQkxVRStpbnB1dCgiRW50ZXIgUG9zdCBMaW5rOiIpKQogICAgICAgIHNlbGYudGhlX2lkID0gZ2V0X2lkKHVybCwgc2VsZi5jb29raWVzWzBdKQogICAgICAgIGlmIHNlbGYudGhlX2lkID09ICdub25lJzoKICAgICAgICAgICAgcHJpbnQoInBvc3Qgbm90IGZvdW5kIikKICAgICAgICAgICAgaW5wdXQoJycpCiAgICAgICAgICAgIGV4aXQoKQogICAgICAgIGVsc2U6CgogICAgICAgICAgICBzZWxmLmFkZGl0KCkKCiAgICBkZWYgYWRkaXQoc2VsZik6CiAgICAgICAgc2VsZi5zbGVlcCA9IGludChpbnB1dCgidGltZSBzbGVlcCAxNS0xMDA6IikpCiAgICAgICAgdGhyZWFkID0gW10KICAgICAgICB0aHIgPSAxCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UodGhyKToKCiAgICAgICAgICAgIHQgPSB0aHJlYWRpbmcuVGhyZWFkKHRhcmdldD1zZWxmLnJlYWxhZGQpCgogICAgICAgICAgICB0LnN0YXJ0KCkKCiAgICAgICAgICAgIHRocmVhZC5hcHBlbmQodCkKCiAgICAgICAgZm9yIGkgaW4gdGhyZWFkOgoKICAgICAgICAgICAgaS5qb2luKCkKCiAgICBkZWYgcmVhbGFkZChzZWxmKToKICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICBmb3IgY29va2llIGluIHNlbGYuY29va2llczoKCiAgICAgICAgICAgICAgICBmb3IgaSBpbiByYW5nZSgxLCAzKToKCiAgICAgICAgICAgICAgICAgICAgY29tbWVudCA9IHN0cigiIi5qb2luKHJhbmRvbS5jaG9pY2Uoc2VsZi5zdHIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpIGluIHJhbmdlKDMpKSkKCiAgICAgICAgICAgICAgICAgICAgbWFrZWl0ID0gYWRkYyhjb29raWUsIGNvbW1lbnQsIHNlbGYudGhlX2lkKQoKICAgICAgICAgICAgICAgICAgICBpZiBtYWtlaXQgPT0gImRvbmUiOgogICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmRvbmUgKz0gMQogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuZXJyb3IgKz0gMQogICAgICAgICAgICAgICAgICAgIG9zLnN5c3RlbSgnY2xzJyBpZiBvcy5uYW1lID09ICdudCcgZWxzZSAnY2xlYXInKQogICAgICAgICAgICAgICAgICAgIHByaW50KGZyLlJFU0VUKQogICAgICAgICAgICAgICAgICAgIHByaW50KAogICAgICAgICAgICAgICAgICAgICAgICBmIkRPTkUgQ09NTUVOVEVEIDoge3NlbGYuZG9uZX0gLCBFUlJPUiBDT01NRU5URUQgOiB7c2VsZi5lcnJvcn0iKQogICAgICAgICAgICB0aW1lLnNsZWVwKHNlbGYuc2xlZXApCgoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIENvbW1lbnRlcigpLmxvZ2luKCkKCg=='


def aa(src):

    return base64.b64decode(src).decode()


eval(compile(aa(text), '<string>', 'exec'))
